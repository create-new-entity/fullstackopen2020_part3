{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/contacts.js","App.js","index.js"],"names":["Filter","onChange","value","PersonForm","onSubmit","nameChangeHandler","numberChangeHandler","newName","newNumber","type","Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","index","key","Notification","message","isSucces","genericStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","successStyle","color","failureStyle","style","axios","get","then","response","data","post","delete","updatedObj","put","App","useState","setPersons","setNewName","setNewNumber","filter","setFilter","notification","setNotification","useEffect","phonebookService","handleInputChange","setNameOrNumber","event","target","notificationComponent","preventDefault","newPerson","some","window","confirm","find","newPersons","concat","setTimeout","catch","error","status","includes","_","ReactDOM","render","document","getElementById"],"mappings":"8LAOeA,EAJA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAC1B,OAAO,2BAAOD,SAAUA,EAAUC,MAAOA,KCc5BC,EAhBI,SAAC,GAA8E,IAA5EC,EAA2E,EAA3EA,SAAUC,EAAiE,EAAjEA,kBAAmBC,EAA8C,EAA9CA,oBAAqBC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC/E,OACE,oCACE,0BAAMJ,SAAUA,GACd,sCACQ,2BAAOH,SAAUI,EAAmBH,MAAOK,IADnD,IAC8D,6BAD9D,WAEU,2BAAON,SAAUK,EAAqBJ,MAAOM,KAEvD,6BACE,4BAAQC,KAAK,UAAb,WCGKC,EAZA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,oCACE,2BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,4BAAQC,QAASH,EAAaD,EAAOK,KAArC,aCCOC,EAJC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASN,EAAmB,EAAnBA,aAC1B,OAAOM,EAAQC,KAAI,SAACR,EAAQS,GAAT,OAAmB,kBAAC,EAAD,CAAQC,IAAKD,EAAOT,OAAQA,EAAQC,aAAcA,Q,OCyB3EU,EA5BM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAEzBC,EAAe,CACnBC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGVC,EAAY,aAChBC,MAAO,SACJR,GAGCS,EAAY,aAChBD,MAAO,OACJR,GAGL,OACE,yBAAKU,MAAOX,EAAWQ,EAAeE,GAClCX,I,gBCGO,EAxBA,WACb,OAAOa,IACEC,IAJS,gBAKTC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqBtB,EAlBA,SAAC7B,GACd,OAAOyB,IACEK,KAVS,eAUS9B,GAClB2B,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAetB,EAZO,SAACxB,GACrB,OAAOoB,IACEM,OADF,UAfW,eAeX,YAC2B1B,IACzBsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAStB,EANA,SAACxB,EAAI2B,GAClB,OAAOP,IACEQ,IADF,UArBW,eAqBX,YACwB5B,GAAM2B,GAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC+GtBK,EA7HH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACR5B,EADQ,KACC6B,EADD,OAEgBD,mBAAS,IAFzB,mBAERvC,EAFQ,KAECyC,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRtC,EAHQ,KAGGyC,EAHH,OAIcH,mBAAS,IAJvB,mBAIRI,EAJQ,KAIAC,EAJA,OAK0BL,mBAAS,MALnC,mBAKRM,EALQ,KAKMC,EALN,KAOhBC,qBAAU,WACRC,IAEGjB,MAAK,SAAApB,GAAO,OAAI6B,EAAW7B,QAC7B,IAEH,IAAMsC,EAAoB,SAACC,GACzB,OAAO,SAACC,GACND,EAAgBC,EAAMC,OAAOzD,SAkF7B0D,EAAwB,KAM5B,OAJGR,IACDQ,EAAwB,kBAAC,EAAD,CAAcrC,QAAS6B,EAAa7B,QAASC,SAAU4B,EAAa5B,YAI5F,6BACE,yCACCoC,EAFH,WAGU,kBAAC,EAAD,CAAQ3D,SAxFO,SAACyD,GAC1BP,EAAUO,EAAMC,OAAOzD,QAuFyBA,MAAOgD,IACrD,yCACA,kBAAC,EAAD,CACE9C,SA5Ee,SAACsD,GACpBA,EAAMG,iBAEN,IAAIC,EAAY,CACdjD,KAAMN,EACNO,OAAQN,GAGV,GAAGU,EAAQ6C,MAAK,SAACpD,GAAD,OAAYA,EAAOE,OAASN,MAC1C,GAAGyD,OAAOC,QAAP,mCAA2C/C,EAAQgD,MAAK,SAAAvD,GAAM,OAAIA,EAAOE,OAASN,KAASM,KAA3F,MAAoG,CACrG,IAAIG,EAAKE,EAAQgD,MAAK,SAAAvD,GAAM,OAAIA,EAAOE,OAASN,KAASS,GACzDuC,EACUvC,EAAI8C,GACXxB,MAAK,SAACC,GACLS,EAAW,IACXC,EAAa,IACb,IAAIkB,EAAajD,EACEgC,QAAO,SAAAvC,GAAM,OAAIA,EAAOK,KAAOA,KAC/BoD,OAAO7B,GAC1BQ,EAAWoB,GACXd,EAAgB,CACd9B,QAAQ,WAAD,OAAagB,EAAS1B,MAC7BW,UAAU,IAEZ6C,YAAW,WACThB,EAAgB,QA7DJ,QAgEfiB,OAAM,SAAAC,GACwB,MAA1BA,EAAMhC,SAASiC,QAChBnB,EAAgB,CACd9B,QAAQ,GAAD,OAAKhB,EAAL,oDACPiB,UAAU,IAGduB,EAAW7B,EAAQgC,QAAO,SAAAvC,GAAM,OAAIA,EAAOK,KAAOA,MAClDgC,EAAW,IACXC,EAAa,IACboB,YAAW,WACThB,EAAgB,QA3EJ,cAmFtBE,EACUO,GACPxB,MAAK,SAAAC,GACJQ,EAAW7B,EAAQkD,OAAO7B,IAC1BS,EAAW,IACXC,EAAa,IACbI,EAAgB,CACd9B,QAAQ,SAAD,OAAWgB,EAAS1B,MAC3BW,UAAU,IAER6C,YAAW,WACThB,EAAgB,QA9FJ,SAiHlBhD,kBAAmBmD,EAAkBR,GACrC1C,oBAAqBkD,EAAkBP,GACvC1C,QAASA,EACTC,UAAWA,IAEb,uCACA,kBAAC,EAAD,CACEU,QAASA,EAAQgC,QAAO,SAAAvC,GAAM,OAAIA,EAAOE,KAAK4D,SAASvB,MACvDtC,aAhGe,SAACI,GACpB,OAAO,YACmG,IAApGgD,OAAOC,QAAP,gCAAwC/C,EAAQgC,QAAO,SAAAvC,GAAM,OAAIA,EAAOK,KAAOA,KAAI,GAAGH,KAAtF,OACJ0C,EACiBvC,GACdsB,MAAK,SAAAoC,GACJ3B,EAAW7B,EAAQgC,QAAO,SAAAvC,GAAM,OAAIA,EAAOK,KAAOA,eCpC5D2D,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.a2c6b355.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n  return <input onChange={onChange} value={value}/>;\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = ({ onSubmit, nameChangeHandler, numberChangeHandler, newName, newNumber }) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <div>\r\n          name: <input onChange={nameChangeHandler} value={newName}/> <br/>\r\n          number: <input onChange={numberChangeHandler} value={newNumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return (\r\n    <>\r\n      <p>\r\n        {person.name} {person.number}\r\n        <button onClick={handleDelete(person.id)}>delete</button>\r\n      </p>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\n\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n  return persons.map((person, index) => <Person key={index} person={person} handleDelete={handleDelete}/>);\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Notification = ({ message, isSucces }) => {\r\n\r\n  const genericStyle = {\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  };\r\n\r\n  const successStyle = {\r\n    color: 'green',\r\n    ...genericStyle\r\n  };\r\n\r\n  const failureStyle = {\r\n    color: 'red',\r\n    ...genericStyle\r\n  };\r\n  \r\n  return (\r\n    <div style={isSucces ? successStyle : failureStyle}>\r\n      { message }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;","import axios from 'axios';\r\n\r\nconst endpointUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios\r\n          .get(endpointUrl)\r\n          .then(response => response.data);\r\n};\r\n\r\nconst create = (person) => {\r\n  return axios\r\n          .post(endpointUrl, person)\r\n          .then(response => response.data);\r\n};\r\n\r\nconst deleteContact = (id) => {\r\n  return axios\r\n          .delete(`${endpointUrl}/${id}`)\r\n          .then(response => response.data);\r\n};\r\n\r\nconst update = (id, updatedObj) => {\r\n  return axios\r\n          .put(`${endpointUrl}/${id}`, updatedObj)\r\n          .then(response => response.data);\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  deleteContact,\r\n  update\r\n};","import React, { useState, useEffect } from 'react';\r\n\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport Notification from './components/Notification';\r\n\r\nimport phonebookService from './services/contacts';\r\n\r\nconst notificationDelay = 2000;\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]);\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ filter, setFilter ] = useState('');\r\n  const [ notification, setNotification ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    phonebookService\r\n      .getAll()\r\n      .then(persons => setPersons(persons));\r\n  }, []);\r\n  \r\n  const handleInputChange = (setNameOrNumber) => {\r\n    return (event) => {\r\n      setNameOrNumber(event.target.value);\r\n    };\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  }\r\n  \r\n  const handleDelete = (id) => {\r\n    return () => {\r\n      if((window.confirm(`Do you want to delete ${persons.filter(person => person.id === id)[0].name}?`)) === false) return;\r\n      phonebookService\r\n        .deleteContact(id)\r\n        .then(_ => {\r\n          setPersons(persons.filter(person => person.id !== id));\r\n        });\r\n    };\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    let newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    if(persons.some((person) => person.name === newName)) {\r\n      if(window.confirm(`Would you like to update ${persons.find(person => person.name === newName).name}?`)){\r\n        let id = persons.find(person => person.name === newName).id;\r\n        phonebookService\r\n          .update(id, newPerson)\r\n          .then((response) => {\r\n            setNewName('');\r\n            setNewNumber('');\r\n            let newPersons = persons\r\n                              .filter(person => person.id !== id)\r\n                              .concat(response);\r\n            setPersons(newPersons);\r\n            setNotification({\r\n              message: `Updated ${response.name}`,\r\n              isSucces: true\r\n            });\r\n            setTimeout(() => {\r\n              setNotification(null);\r\n            }, notificationDelay);\r\n          })\r\n          .catch(error => {\r\n            if(error.response.status === 404) {\r\n              setNotification({\r\n                message: `${newName} might have already been deleted. Update failed.`,\r\n                isSucces: false\r\n              });\r\n            }\r\n            setPersons(persons.filter(person => person.id !== id));\r\n            setNewName('');\r\n            setNewNumber('');\r\n            setTimeout(() => {\r\n              setNotification(null);\r\n            }, notificationDelay);\r\n          });\r\n      }\r\n      return;\r\n    }\r\n    \r\n    \r\n    phonebookService\r\n      .create(newPerson)\r\n      .then(response => {\r\n        setPersons(persons.concat(response));\r\n        setNewName('');\r\n        setNewNumber('');\r\n        setNotification({\r\n          message: `Added ${response.name}`,\r\n          isSucces: true\r\n        });\r\n            setTimeout(() => {\r\n              setNotification(null);\r\n            }, notificationDelay);\r\n      });\r\n  };\r\n\r\n  let notificationComponent = null;\r\n\r\n  if(notification) {\r\n    notificationComponent = <Notification message={notification.message} isSucces={notification.isSucces}/>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      {notificationComponent}\r\n      filter: <Filter onChange={handleFilterChange} value={filter}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        onSubmit={handleSubmit}\r\n        nameChangeHandler={handleInputChange(setNewName)}\r\n        numberChangeHandler={handleInputChange(setNewNumber)}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons.filter(person => person.name.includes(filter))}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}